<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LINE RAG Bot - Cloudflareå®Œçµå‹ãƒœãƒƒãƒˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: transform 0.2s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }
        
        h2 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }
        
        h3 {
            color: #764ba2;
            margin: 1.5rem 0 0.8rem;
            font-size: 1.3rem;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .feature {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .feature h4 {
            color: #667eea;
            margin-bottom: 0.5rem;
        }
        
        .links {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        
        .button {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            transition: background 0.2s;
        }
        
        .button:hover {
            background: #764ba2;
        }
        
        .button.secondary {
            background: #6c757d;
        }
        
        .button.secondary:hover {
            background: #5a6268;
        }
        
        code {
            background: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
            margin: 1rem 0;
            border-left: 4px solid #667eea;
        }
        
        .architecture {
            background: #2d3748;
            color: #f7fafc;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: monospace;
            overflow-x: auto;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .cost-table {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        
        th, td {
            text-align: left;
            padding: 0.8rem;
            border-bottom: 1px solid #e9ecef;
        }
        
        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #667eea;
        }
        
        .status {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .status.ready {
            background: #d4edda;
            color: #155724;
        }
        
        .status.beta {
            background: #fff3cd;
            color: #856404;
        }
        
        footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 1rem;
            }
            
            .card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>ğŸ¤– LINE RAG Bot</h1>
        <p class="subtitle">Cloudflareå®Œçµå‹ã®é«˜æ€§èƒ½LINE Bot with RAG & MCP</p>
    </header>

    <div class="container">
        <div class="card">
            <h2>ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</h2>
            <p>Cloudflare Workers + Vectorize + D1 + Workers AIã‚’ä½¿ç”¨ã—ãŸã€æ¤œç´¢æ©Ÿèƒ½ã¨ä¼šè©±å±¥æ­´ã‚’æŒã¤LINE Botã§ã™ã€‚ã™ã¹ã¦ã®ã‚¤ãƒ³ãƒ•ãƒ©ãŒCloudflareå†…ã§å®Œçµã—ã€é«˜é€Ÿãƒ»ã‚»ã‚­ãƒ¥ã‚¢ãƒ»ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿç¾ã—ã¾ã™ã€‚</p>
            
            <div class="links">
                <a href="https://github.com/yukihamada/line-rag-bot" class="button">
                    ğŸ“‚ GitHubãƒªãƒã‚¸ãƒˆãƒª
                </a>
                <a href="https://dash.cloudflare.com" class="button secondary">
                    âš™ï¸ Cloudflare Dashboard
                </a>
                <a href="https://developers.line.biz/console/" class="button secondary">
                    ğŸ’¬ LINE Developers
                </a>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h2>
            <div class="architecture">
LINE â†” Cloudflare Worker (Edge) â”€â”¬â”€ LangChain JS (RAG Chain)
                                  â”‚
                                  â”œâ”€ MCP Server (Durable Object)
                                  â”‚   â”œâ”€ Tools (search, sentiment, web)
                                  â”‚   â””â”€ Resources & Prompts
                                  â”‚
                                  â”œâ”€ Workers AI  (embedding + chat LLM)
                                  â”‚
                                  â”œâ”€ Vectorize   (semantic search index)
                                  â”‚
                                  â””â”€ D1 / KV     (per-user conversation store)
            </div>
        </div>

        <div class="card">
            <h2>âœ¨ ä¸»ãªæ©Ÿèƒ½</h2>
            <div class="features">
                <div class="feature">
                    <h4>ğŸ” RAGæ¤œç´¢</h4>
                    <p>Vectorizeã‚’ä½¿ç”¨ã—ãŸé«˜ç²¾åº¦ãªæƒ…å ±æ¤œç´¢ã€‚é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰æœ€é©ãªå›ç­”ã‚’ç”Ÿæˆ</p>
                </div>
                <div class="feature">
                    <h4>ğŸ’¬ ä¼šè©±å±¥æ­´ç®¡ç†</h4>
                    <p>D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚ˆã‚‹æ°¸ç¶šçš„ãªä¼šè©±è¨˜éŒ²ã€‚æ–‡è„ˆã‚’è€ƒæ…®ã—ãŸè‡ªç„¶ãªå¯¾è©±ãŒå¯èƒ½</p>
                </div>
                <div class="feature">
                    <h4>ğŸ¤– AIæ¨è«–</h4>
                    <p>Workers AIï¼ˆLlama 3 70Bï¼‰ã«ã‚ˆã‚‹é«˜å“è³ªãªè‡ªç„¶è¨€èªç”Ÿæˆ</p>
                </div>
                <div class="feature">
                    <h4>âš¡ é«˜é€Ÿãƒ¬ã‚¹ãƒãƒ³ã‚¹</h4>
                    <p>Cloudflare Edgeã§ã®å‡¦ç†ã«ã‚ˆã‚Š1-3ç§’ä»¥å†…ã®é«˜é€Ÿå¿œç­”ã‚’å®Ÿç¾</p>
                </div>
                <div class="feature">
                    <h4>ğŸ” ã‚»ã‚­ãƒ¥ã‚¢é€šä¿¡</h4>
                    <p>LINEç½²åæ¤œè¨¼ã«ã‚ˆã‚‹å®‰å…¨ãªé€šä¿¡ã¨Cloudflareã®å …ç‰¢ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</p>
                </div>
                <div class="feature">
                    <h4>ğŸ“Š ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«</h4>
                    <p>Cloudflareã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°</p>
                </div>
                <div class="feature">
                    <h4>ğŸ”Œ MCPã‚µãƒãƒ¼ãƒˆ</h4>
                    <p>Model Context Protocolã«ã‚ˆã‚‹æ‹¡å¼µå¯èƒ½ãªãƒ„ãƒ¼ãƒ«çµ±åˆ</p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †</h2>
            
            <h3>1. ç’°å¢ƒæº–å‚™</h3>
            <pre>git clone https://github.com/yukihamada/line-rag-bot
cd line-rag-bot
npm install</pre>

            <h3>2. Cloudflareãƒªã‚½ãƒ¼ã‚¹ä½œæˆ</h3>
            <pre># D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
wrangler d1 create bot_db

# Vectorizeã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
wrangler vectorize create kb_index

# KVãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ä½œæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
wrangler kv:namespace create "cache"</pre>

            <h3>3. ç’°å¢ƒå¤‰æ•°è¨­å®š</h3>
            <pre># .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
cp .env.example .env

# ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆè¨­å®š
wrangler secret put LINE_CHANNEL_SECRET
wrangler secret put LINE_CHANNEL_TOKEN
wrangler secret put CF_API_TOKEN
wrangler secret put CF_ACCOUNT_ID</pre>

            <h3>4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–</h3>
            <pre>wrangler d1 execute bot_db --file=./migrations/0001_create_memory_table.sql</pre>

            <h3>5. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h3>
            <pre># documentsãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®å¾Œ
npm run upload-docs ./documents</pre>

            <h3>6. ãƒ‡ãƒ—ãƒ­ã‚¤</h3>
            <pre>wrangler deploy</pre>

            <h3>7. LINE Webhookè¨­å®š</h3>
            <p>LINE Developers Consoleã§Webhook URLã‚’è¨­å®šï¼š</p>
            <code>https://your-worker-name.your-subdomain.workers.dev/webhook</code>
        </div>

        <div class="card">
            <h2>ğŸ“– ä½¿ã„æ–¹</h2>
            
            <h3>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h3>
            <ol>
                <li>LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‹ã ã¡è¿½åŠ </li>
                <li>è³ªå•ã‚’ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§é€ä¿¡</li>
                <li>ç™»éŒ²ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰é–¢é€£æƒ…å ±ã‚’æ¤œç´¢ã—ã¦å›ç­”</li>
                <li>ä¼šè©±å±¥æ­´ã¯è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã€æ–‡è„ˆã‚’è€ƒæ…®ã—ãŸå¿œç­”ãŒå¯èƒ½</li>
            </ol>

            <h3>ç®¡ç†è€…å‘ã‘æ“ä½œ</h3>
            <div class="features">
                <div class="feature">
                    <h4>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ </h4>
                    <p><code>documents</code>ãƒ•ã‚©ãƒ«ãƒ€ã«.txtã¾ãŸã¯.mdãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€<code>npm run upload-docs</code>ã‚’å®Ÿè¡Œ</p>
                </div>
                <div class="feature">
                    <h4>ãƒ­ã‚°ç¢ºèª</h4>
                    <p><code>wrangler tail</code>ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ã‚’ç¢ºèª</p>
                </div>
                <div class="feature">
                    <h4>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†</h4>
                    <p>Cloudflare Dashboardã®D1ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰ç›´æ¥SQLã‚’å®Ÿè¡Œå¯èƒ½</p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ’° ã‚³ã‚¹ãƒˆç›®å®‰</h2>
            <div class="cost-table">
                <table>
                    <thead>
                        <tr>
                            <th>ã‚µãƒ¼ãƒ“ã‚¹</th>
                            <th>ç„¡æ–™æ </th>
                            <th>è¶…éæ™‚ã®æ–™é‡‘</th>
                            <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Workers AI</td>
                            <td>100k tokens/æœˆ</td>
                            <td>$0.50/1M tokens</td>
                            <td><span class="status ready">åˆ©ç”¨å¯èƒ½</span></td>
                        </tr>
                        <tr>
                            <td>Vectorize</td>
                            <td>1GB / 100kãƒ™ã‚¯ãƒˆãƒ«</td>
                            <td>$0.20/GB</td>
                            <td><span class="status ready">åˆ©ç”¨å¯èƒ½</span></td>
                        </tr>
                        <tr>
                            <td>D1</td>
                            <td>100k rows/æœˆ</td>
                            <td>å¾“é‡èª²é‡‘</td>
                            <td><span class="status ready">åˆ©ç”¨å¯èƒ½</span></td>
                        </tr>
                        <tr>
                            <td>Workers</td>
                            <td>100k requests/æ—¥</td>
                            <td>$0.50/1M requests</td>
                            <td><span class="status ready">åˆ©ç”¨å¯èƒ½</span></td>
                        </tr>
                        <tr>
                            <td>Containers</td>
                            <td>æœªå®š</td>
                            <td>æœªç™ºè¡¨</td>
                            <td><span class="status beta">2025å¹´6æœˆÎ²</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ› ï¸ é–‹ç™ºè€…å‘ã‘æƒ…å ±</h2>
            
            <h3>åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰</h3>
            <pre>npm run dev        # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run deploy     # Cloudflareã¸ãƒ‡ãƒ—ãƒ­ã‚¤
npm run typecheck  # TypeScriptå‹ãƒã‚§ãƒƒã‚¯
npm run tail       # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç¢ºèª
npm run upload-docs # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</pre>

            <h3>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ </h3>
            <pre>line-rag-bot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts           # ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ types.ts           # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ line/
â”‚   â”‚   â”œâ”€â”€ webhook.ts     # LINE Webhookå‡¦ç†
â”‚   â”‚   â””â”€â”€ api.ts         # LINE APIé€£æº
â”‚   â””â”€â”€ langchain/
â”‚       â”œâ”€â”€ chain.ts       # RAGãƒã‚§ãƒ¼ãƒ³å®Ÿè£…
â”‚       â”œâ”€â”€ memory.ts      # ä¼šè©±å±¥æ­´ç®¡ç†
â”‚       â””â”€â”€ vectorstore.ts # ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢
â”œâ”€â”€ migrations/            # D1ã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ scripts/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ documents/            # RAGç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â””â”€â”€ wrangler.toml        # Cloudflareè¨­å®š</pre>

            <h3>ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li><strong>LLMãƒ¢ãƒ‡ãƒ«å¤‰æ›´</strong>: <code>src/langchain/chain.ts</code>ã®ãƒ¢ãƒ‡ãƒ«æŒ‡å®šã‚’å¤‰æ›´</li>
                <li><strong>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆèª¿æ•´</strong>: <code>QA_PROMPT</code>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç·¨é›†</li>
                <li><strong>æ¤œç´¢ç²¾åº¦å‘ä¸Š</strong>: ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆkå€¤ï¼‰ã‚’èª¿æ•´</li>
                <li><strong>ä¼šè©±å±¥æ­´ã®ä¿æŒæœŸé–“</strong>: D1ã‚¯ã‚¨ãƒªã®LIMITå€¤ã‚’å¤‰æ›´</li>
            </ul>
        </div>

        <div class="card">
            <h2>ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
            
            <div class="features">
                <div class="feature">
                    <h4>LINEç½²åæ¤œè¨¼ã‚¨ãƒ©ãƒ¼</h4>
                    <ul>
                        <li>Channel SecretãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
                        <li>Webhook URLãŒHTTPSã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</li>
                        <li><code>wrangler secret list</code>ã§è¨­å®šã‚’ç¢ºèª</li>
                    </ul>
                </div>
                <div class="feature">
                    <h4>Vectorizeæ¤œç´¢ã‚¨ãƒ©ãƒ¼</h4>
                    <ul>
                        <li>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
                        <li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
                        <li>Cloudflare Dashboardã§çŠ¶æ…‹ã‚’ç¢ºèª</li>
                    </ul>
                </div>
                <div class="feature">
                    <h4>D1æ¥ç¶šã‚¨ãƒ©ãƒ¼</h4>
                    <ul>
                        <li>Database IDãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
                        <li>ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</li>
                        <li><code>wrangler d1 list</code>ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç¢ºèª</li>
                    </ul>
                </div>
                <div class="feature">
                    <h4>Workers AIã‚¨ãƒ©ãƒ¼</h4>
                    <ul>
                        <li>API ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¨©é™ã‚’ç¢ºèª</li>
                        <li>ãƒ¢ãƒ‡ãƒ«åãŒæ­£ã—ã„ã‹ç¢ºèª</li>
                        <li>åˆ©ç”¨åˆ¶é™ã«é”ã—ã¦ã„ãªã„ã‹ç¢ºèª</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ¤ MCP (Model Context Protocol) ã‚µãƒãƒ¼ãƒˆ</h2>
            
            <h3>æ¦‚è¦</h3>
            <p>MCPã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè£…ã—ã€AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¨å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã‚’æ¥ç¶šã™ã‚‹ãŸã‚ã®æ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
            
            <h3>MCPã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li><strong>WebSocket:</strong> <code>wss://your-worker.workers.dev/mcp</code></li>
                <li><strong>HTTP:</strong> <code>https://your-worker.workers.dev/mcp</code></li>
                <li><strong>SSE:</strong> <code>https://your-worker.workers.dev/mcp/sse</code></li>
            </ul>
            
            <h3>å®Ÿè£…ã•ã‚ŒãŸMCPãƒ„ãƒ¼ãƒ«</h3>
            <div class="features">
                <div class="feature">
                    <h4>search_knowledge</h4>
                    <p>Vectorizeå†…ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰é–¢é€£æƒ…å ±ã‚’æ¤œç´¢</p>
                </div>
                <div class="feature">
                    <h4>get_conversation_history</h4>
                    <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¼šè©±å±¥æ­´ã‚’D1ã‹ã‚‰å–å¾—</p>
                </div>
                <div class="feature">
                    <h4>analyze_sentiment</h4>
                    <p>Workers AIã‚’ä½¿ç”¨ã—ãŸæ„Ÿæƒ…åˆ†æ</p>
                </div>
                <div class="feature">
                    <h4>web_search</h4>
                    <p>å¤–éƒ¨Webæƒ…å ±ã®æ¤œç´¢ï¼ˆDuckDuckGo APIï¼‰</p>
                </div>
            </div>
            
            <h3>MCPã®æœ‰åŠ¹åŒ–</h3>
            <pre>wrangler secret put MCP_SERVER_URL
# https://your-worker.workers.dev/mcp ã‚’å…¥åŠ›</pre>
            
            <h3>ä½¿ç”¨ä¾‹</h3>
            <pre>// MCP Clientã®ä½¿ç”¨
const mcpClient = new MCPClient('https://your-worker.workers.dev/mcp');
await mcpClient.connectHTTP();

// ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œ
const results = await mcpClient.searchKnowledge('æ¤œç´¢ã‚¯ã‚¨ãƒª', 5);
const sentiment = await mcpClient.analyzeSentiment('åˆ†æãƒ†ã‚­ã‚¹ãƒˆ');</pre>
            
            <div class="links">
                <a href="/docs/MCP_SPECIFICATION.md" class="button secondary">
                    ğŸ“„ MCPä»•æ§˜æ›¸
                </a>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ”® ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ</h2>
            <ul>
                <li>ğŸ–¼ï¸ ç”»åƒå¯¾å¿œï¼ˆWorkers AI Vision ãƒ¢ãƒ‡ãƒ«ï¼‰</li>
                <li>ğŸŒ å¤šè¨€èªå¯¾å¿œï¼ˆè‡ªå‹•è¨€èªæ¤œå‡ºï¼‰</li>
                <li>ğŸ“Š ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆåˆ©ç”¨çµ±è¨ˆãƒ»åˆ†æï¼‰</li>
                <li>ğŸ”„ å¤–éƒ¨APIé€£æºï¼ˆå¤©æ°—ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ç­‰ï¼‰</li>
                <li>ğŸ¯ ãƒ•ã‚¡ã‚¤ãƒ³ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°å¯¾å¿œ</li>
                <li>ğŸ“± ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ»ã‚«ãƒ«ãƒ¼ã‚»ãƒ«å¯¾å¿œ</li>
                <li>ğŸ” MCPèªè¨¼ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ï¼ˆJWT/APIã‚­ãƒ¼ï¼‰</li>
                <li>âš¡ MCPãƒãƒƒãƒå‡¦ç†ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°</li>
            </ul>
        </div>
    </div>

    <footer>
        <p>Â© 2024 LINE RAG Bot - Built with â¤ï¸ on Cloudflare</p>
        <p>Created by Yuki Hamada | <a href="https://github.com/yukihamada/line-rag-bot" style="color: #667eea;">GitHub</a></p>
    </footer>
</body>
</html>